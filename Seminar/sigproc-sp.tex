\documentclass{acm_proc_article-sp}

\usepackage{tabularx}  % for 'tabularx' environment and 'X' column type
\usepackage{ragged2e}  % for '\RaggedRight' macro (allows hyphenation)
\newcolumntype{Y}{>{\RaggedRight\arraybackslash}X}
\usepackage{booktabs}  % for \toprule, \midrule, and \bottomrule macros
\usepackage{multirow}
\usepackage{tablefootnote}
\usepackage{hyperref}

% Glossary benutzen
\usepackage{glossaries}
\loadglsentries[main]{glossary}
\makeglossaries
%\printglossaries

\begin{document}

\title{Routing protocol evaluation for the IoT}
\subtitle{Requirement analysis and experiment design for large-scale test beds.}

\author{
\alignauthor
Lotte Steenbrink
       \email{lotte.steenbrink@haw-hamburg.de}
}

\maketitle
\begin{abstract}
TODO
\end{abstract}

\keywords{IoT, routing, MANET, test beds}

\section{Introduction}
\label{sec:Intro}
%===============================================================================
In 2014, the \gls{IoT} reached the peak of Gartner's hype cycle for emerging technologies\footnote{\url{https://www.gartner.com/doc/2809728}}. It is both a growing market and a thriving research field. One central aspect of IoT communications is routing: finding the best paths between nodes and towards sink nodes and gateways is crucial to ensure energy-efficient and smooth network operations. However, practical experience with IoT routing is sparse, and scientific evaluation of such environments is rare. Most routing protocol evaluations are simulation-based, and even fewer of these evaluations have been designed with the IoT in mind.
This paper presents a testbed-based evaluation approach tailored to the IoT. The goal is to enable the evaluation of routing protocols which have been created for \glspl{LLN} or \glspl{MANET} with regard to their suitability for the IoT.\\
To achieve this, the remainder of this paper is organized as follows:
First, the different domains and use cases that form the IoT are assessed. Based on these findings, a network configuration is presented on which all experiments shall be run. Following up, experiment goals, design and realization details are assessed. Finally, a conclusion of all findings as well as an outlook into future steps is provided.

\subsection{Related work}
\label{subsec:related_work}
%...............................................................................
While testbed experiments are rare, research on the foundations needed to conduct life-like experiments has been done for about two decades, and is increasingly focused on the IoT.\\
\cite{RFC-2501} provides a summary of issues which should be considered when evaluating a routing protocol. Routing requirements for the IoT-like scenarios of home and building automation, as well as urban \glspl{LLN} are described in \cite{RFC-5826}, \cite{RFC-5867} and \cite{RFC-5548}.
\cite{food_monitoring} discusses influences on transmission range in food monitoring use cases, in particular monitoring bananas during transport. results were achieved both through mathematical analysis as well as well as a simple testbed consisting of four nodes.
\cite{testbed-survey} presents the features and failings of different Wireless Sensor Network Testbeds, along with a requirement analysis for IoT-ready testbeds.

\section{IoT domains and use cases}
\label{sec:Scenarios}
%===============================================================================
By its very nature, the IoT encompasses a broad spectrum of environments and use cases.
Surveys such as \cite{IoT_survey_Atzori} and \cite{IoT_survey_Gubbi} divide the IoT into domains such as Transportation, Healthcare, Smart Environment, and Personal \& Social, or Personal \& Home, Enterprise, Utilities and Mobile. While the intra-domain variation in terms of use cases is high, similarity can vary even on an inter-domain basis. For example,\cite{IoT_survey_Atzori} considers both smart homes and industrial plants to be a part of the Smart Environment domain. Still, the networks established in a smart home may differ vastly from the network of an industrial farming facility. The floor space of a single-family house is much smaller than that of an industrial plant, and IoT home applications may be focused on interaction, while industrial IoT is focused on sensing and reporting.
Among other things, this implies different network sizes and traffic patterns.\\
Therefore, while grouping by application domain is useful to map the impact of the IoT and its possibilities for interoperation and interdisciplinary collaboration, this approach to categorizing the IoT is not feasible when it comes to network modeling. Instead, IoT networks can be categorized along a number of metrics on a relatively fine-grained scale. An IoT network can be characterized in terms of:\\
\begin{description}
\item[Network Topology:] The network may be organized in a star or mesh pattern.
\item[Traffic Patterns:] Some networks experience bursty traffic based on outside events, for example a home automation system when the homeowners return. Others have a regular, scheduled stream of sensor data. Yet others employ a request/response-cycle based on outside events or internal calculations. Packets may travel towards a central \emph{sink node} in a multipoint-to-point fashion, or flooding the network from a central node as point-to-multipoint traffic, or simple point-to-point. The data rate is typically small.
\item[Mobility:] Some or all of the nodes of a network may move at different speeds. Movements can be shortlived and caused by displacement, such as the rearrangement of furniture, or constant, such as moving vehicles. Depending on a node's ``host'', different movement patterns may emerge: Cars drive on a fixed grid of streets at nonlinear speeds, while humans moving though an open field are less restricted in terms of directions, but also less prone to extreme acceleration.
\item[Energy efficiency requirements:] Some IoT devices may be built-in to a host with a constant energy supply and therefore not constrained by battery. Other nodes can and will be charged regularly, while yet others must run without maintenance for years.
\item[Scale:] Network sizes can range from 250 to more than 10.000 nodes.
\end{description}

Depending on these characteristics, networks differ in their requirements for a routing protocol. For example, a building automation installation in a factory might feature 1000 nodes arranged in a star topology with scheduled multipoint to point traffic, no mobility, and high energy efficiency requirements, as nodes are expected to operate on one battery for 5 years\cite{RFC-5867}. A routing protocol suitable for this environment thus has lower requirements for latency and code size, but its high energy-efficiency requirements call for a routing protocol with high route stability and reliability.
On the other hand, a solution monitoring the insides of a food truck features a mesh topology made necessary by the high density of the truck's contents which result in low radio ranges, and bursty traffic and node mobility whenever the goods are unloaded or rearranged \cite{food_monitoring}. However, these goods are stored and monitored in boxes, which could be recharged upon arrival, lowering energy efficiency requirements. Thus, an optimal routing protocol for this environment differs vastly from the protocol suitable for the building automation installation described above: While energy-efficiency is less important here, code and storage size is a relevant factor, since the nodes installed should be as cheap and lightweight as possible. Since boxes can be rearranged during unloading/reloading, timely failure recovery is necessary.

In general, Routing Protocol performance metrics for the IoT can be summarized as:
\begin{description}
\item[Latency:] The latency with which routes are found or packets are sent is crucial to some applications. Networks with high mobility, for example in transport or emergency scenarios, may require quick route establishment and usage before the connection is disrupted, while static farming arrangements are not affected if sensor data arrives at the sink node with higher latency.
%\item[Route convergence:] Convergence is the state of a set of routers that have the same topological information about the internetwork in which they operate. (wikiepdia) -> not sure how to put convergence into context here.
\item[Failure recovery:] Especially in highly mobile networks, route disruptions should be recognized and-- if possible-- fixed in a timely manner.
\item[Route stability:] Networks with frequently changing routes can be expensive both in terms of latency as well as battery usage: unless a constant routing information is maintained\footnote{which is the case with most proactive protocols like OLSR\cite{RFC-3626}}, route rediscoveries require increased activity of the transceiver, which is the most battery-hungry component of IoT nodes.
\item[Code \& storage size:] With the exception of border routers and sink nodes, IoT devices typically have constrained memory storage resources. Devices which are used in bulk as ``throwaway hardware'' for monitoring even moreso than devices into household appliances etc. Thus, protocol complexity and thus code size can be a relevant criteria. Another factor is memory usage on operation: extensive routing tables, such as those maintained by proactive protocols, can become a problem especially in large-scale networks, since they increase linearly with the network size.
\item[Reliability] -> how many packets get lost? TODO
\item[Energy-efficiency] Sending and receiving data is very battery-consuming, so it is advised to keep control traffic as low as possible. Additionally, low handling complexity will help keep retain a high energy efficiency.
\end{description}

Based on these characteristics and metrics, an experiment design will be presented in the following.

\section{Network model}
\label{sec:Model}
%===============================================================================
\begin{table*}[t]
    \begin{tabularx}{\textwidth}{l | X | X  }
      Characteristic & Case 1 & Case 2 \\
      \hline
      Network Topology & Mesh & \\
      Traffic Pattern & Multipoint-to-point, with most traffic traversing several hops & point-to-point across the network \\
      Mobility & Sparse and bursty: Nodes move seldomly and not constantly & \\
      Scale & 100 & 250\\
    \end{tabularx}
    \caption{Characteristics of the modeled network(s)}
    \label{fig:characteristics}
\end{table*}

It can be seen in section \ref{sec:Scenarios} that the IoT is a very heterogeneous field in terms of network characteristics, and that a one-scenario-fits-all approach to studying IoT routing is unlikely to be feasible. Therefore, a specific scenario will be studied, modeled and modified in detail over the course of this paper, with the hope that some of the building blocks may be reused as research expands. To achieve this, the characteristics listed in table \ref{fig:characteristics} have been chosen as the base scenario to be modeled, as they can be found in a wide range of applications, and are among the most challenging for routing protocols.
In order to study which protocol excels in which scenario, variations have to be created. Therefor, \textbf{Case 1} and \textbf{Case 2} describe different characteristics which are switched up per experiment round.

%TODO: daraus die zu checkenden performancemetriken ableiten

\section{Experiment goals}
\label{sec:Goals}
%===============================================================================

\section{Experiment design}
\label{sec:Design}
%===============================================================================
% TODO: nette einleitung.

\subsection{Choosing the testbed}
\label{subsec:testbed_choice}
%...............................................................................

In order to run the experiments in a lifelike, but still controlled environment, a testbed is needed. Ideally, a testbed suitable for the IoT should be able to provide their users with at least several hundreds, but ideally several thousands of nodes, a diverse range of hardware, and a number of mobile nodes. \cite{testbed-survey} compares several testbeds with regard to suitability for the IoT, and concludes that the FIT-IoTLab\footnote{\url{https://www.iot-lab.info}} is one of the most suitable facilities. Located all over France, the FIT-IoTLab offers 2,728 nodes in total, featuring three different hardware platforms of different capabilities:
\begin{description}
\item[The WSN430 Node] featuring a MSP430 MCU with 48kB Flash, 10kB RAM, an IEEE 802.15.4. radio interface, as well as sensors for ambient sensor light and temperature.
\item[The M3 Node] featuring an ARM Cortex M3 MCU with 64kB RAM, an IEEE 802.15.4. radio interface, as well as sensors for ambient sensor light, atmospheric pressure and temperature, a gyrometer, and an accelerometer.
\item[The A8 Node] featuring an ARM Cortex-A8 microprocessor with 256 MV RAM, an ethernet interface, a gyrometer, and an accelerometer.
\end{description}
Additionally, the IoT-Lab offers node mobility through a fleet of toy trains. This allows for the use of realistic, but controllable mobility patterns.
The two more constrained platforms of the IoT-Lab, the Wsn430 and M3 nodes, offer support for RIOT(TODO: quelle f√ºr RIOT)\footnote{\url{https://www.iot-lab.info/operating-systems/}, \\accessed 19.05.2015}.
This combination is unique among all available testbeds, and provides every feature needed to conduct the described experiments. Therefore, it is advised to run the experiments described this paper on the FIT-IoTLab testbed.

\subsection{Experiment Setup}
\label{subsec:setup}
%...............................................................................
Each experiment will be run on four scenario combinations, as noted in table \ref{fig:characteristics}.
For each scenario combination, each experiment is run a fixed number of TODO individual times, so as to not eschew data by isolated incidents.

\subsubsection{Experiment implementation}
\label{subsec:implementation}
%...............................................................................
%TODO: reproduzierbar, parametrisierbar


\subsubsection{Involved routing protocols}
\label{subsec:protocols}
%...............................................................................
RIOT currently features implementations of two routing protocols: RPL\cite{RFC-6550} and AODVv2\cite{draft-ietf-manet-aodvv2-09}. The former is a proactive, point-to-multipoint-protocol designed for \glspl{LLN}, while the latter is a reactive point-to-point protocol designed for \gls{MANET}. Additionally, implementations of the proactive \gls{MANET} protocol OLSR\cite{RFC-3626} and the \gls{ARA}(TODO: Quelle) are in progress.(TODO: links in footnote)
All protocols vary vastly in their differences and application scenarios, so it would be advisable to involve as many as possible in the experimentation. In addition to RPL and AODVv2, any of the other protocols which is available by the time of the experiment should be used.

\subsection{Experiment evaluation}
\label{subsec:evaluation}
%...............................................................................

\section{Conclusion and outlook}
\label{sec:Conclusion}
%===============================================================================
% more advanced traffic patterns: multiple sink nodes rport to ione central node etc


\bibliographystyle{ieeetr}
\bibliography{sigproc}
\end{document}
